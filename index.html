// index.html içindeki değişkenlere ekle
let passiveIncome = parseInt(localStorage.getItem('passive')) || 0;

function update() {
    document.getElementById('score').innerText = Math.floor(score);
    document.getElementById('energy').innerText = energy;
    // Varsa arayüze saatlik kazanç göstergesi ekle
    if(document.getElementById('passive-display')) {
        document.getElementById('passive-display').innerText = "+ " + passiveIncome + "/saat";
    }
}

function buy() {
    if (score >= 500) {
        score -= 500;
        passiveIncome += 50; // Her alımda saatlik kazanç 50 artar
        update();
        localStorage.setItem('score', score);
        localStorage.setItem('passive', passiveIncome);
        tg.showAlert("Pasif gelirin arttı! Saatlik: " + passiveIncome);
    }
}

// Pasif geliri her saniye hesaba ekleyen döngü
setInterval(() => {
    if (passiveIncome > 0) {
        score += (passiveIncome / 3600); // Saatlik geliri saniyeye bölerek ekler
        update();
    }
}, 1000);
