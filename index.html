<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Tycoon: Final Edition</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap');
        
        :root { --neon-blue: #00f2ff; --neon-purple: #7000ff; --glass: rgba(15, 23, 42, 0.7); }

        body { 
            background: #05070a; color: white; font-family: 'Rajdhani', sans-serif; 
            margin: 0; display: flex; flex-direction: column; align-items: center; 
            height: 100vh; overflow: hidden;
        }

        /* √úst Bilgi Kutularƒ± */
        #top-stats { display: flex; justify-content: space-between; width: 92%; margin-top: 15px; gap: 10px; }
        .stat-card {
            flex: 1; background: var(--glass); border: 1px solid var(--neon-blue);
            border-radius: 12px; padding: 10px; text-align: center; backdrop-filter: blur(10px);
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.1);
        }
        .stat-card.purple { border-color: var(--neon-purple); box-shadow: 0 0 15px rgba(112, 0, 255, 0.1); }
        .stat-label { font-size: 10px; color: #8b949e; display: block; margin-bottom: 4px; font-weight: bold; }
        .stat-value { font-family: 'Orbitron'; font-size: 14px; color: #fff; }

        /* Ana G√∂vde */
        #main-display { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; }
        #rank-text { font-family: 'Orbitron'; font-size: 15px; letter-spacing: 2px; margin-bottom: 10px; }
        #score-main { font-family: 'Orbitron'; font-size: 44px; font-weight: bold; color: #fff; margin-bottom: 25px; text-shadow: 0 0 20px rgba(255,255,255,0.2); }
        #score-main span { color: var(--neon-blue); font-size: 20px; margin-left: 5px; }

        /* Parlayan Beyin ve Halkasƒ± */
        #brain-container { position: relative; width: 210px; height: 210px; display: flex; align-items: center; justify-content: center; }
        #brain-glow { 
            position: absolute; width: 100%; height: 100%; border-radius: 50%; 
            border: 2px solid var(--neon-purple); box-shadow: 0 0 40px var(--neon-purple);
            animation: pulse 2s infinite;
        }
        #brain-btn { 
            width: 180px; height: 180px; border-radius: 50%; background: radial-gradient(circle, #1a103d, #05070a);
            display: flex; align-items: center; justify-content: center; font-size: 90px;
            cursor: pointer; z-index: 2; transition: transform 0.05s; border: 1px solid rgba(255,255,255,0.1);
        }
        #brain-btn:active { transform: scale(0.94); }

        /* Kombo Bildirimi */
        #combo-info { margin-top: 15px; font-size: 12px; color: gold; font-weight: bold; animation: blink 1s infinite; }

        /* Alt Kartlar B√∂l√ºm√º */
        #cards-section {
            width: 100%; background: rgba(10, 15, 25, 0.95); padding: 15px 0;
            border-top: 1px solid #1a2236; display: flex; overflow-x: auto; gap: 15px; padding-left: 15px;
        }
        .card {
            min-width: 130px; background: #161b22; border: 1px solid #30363d;
            border-radius: 15px; padding: 12px; text-align: center; position: relative;
        }
        .card-emoji { font-size: 30px; margin-bottom: 8px; display: block; filter: drop-shadow(0 0 5px var(--neon-blue)); }
        .card-name { font-size: 12px; font-weight: bold; margin-bottom: 4px; display: block; }
        .card-price { font-size: 11px; color: #8b949e; margin-bottom: 10px; display: block; }
        .buy-btn { 
            background: var(--neon-blue); color: #000; border: none; width: 100%; 
            padding: 8px; border-radius: 8px; font-size: 11px; font-weight: bold; cursor: pointer;
        }
        .buy-btn:disabled { background: #1e293b; color: #4b5563; }
        .locked-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); border-radius: 15px; display: flex;
            align-items: center; justify-content: center; font-size: 10px; color: #ff4c4c; font-weight: bold;
        }

        /* Animasyonlar */
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.2); opacity: 0; } }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* Nav */
        #navbar { width: 100%; display: flex; background: #05070a; border-top: 1px solid #1a2236; padding: 15px 0; }
        .nav-item { flex: 1; text-align: center; color: #4b5563; font-size: 11px; font-weight: bold; }
        .nav-item.active { color: var(--neon-blue); }
    </style>
</head>
<body>

    <div id="top-stats">
        <div class="stat-card">
            <span class="stat-label">‚ö° TIK G√úC√ú</span>
            <span class="stat-value" id="tap-val">+1</span>
        </div>
        <div class="stat-card purple">
            <span class="stat-label">‚öôÔ∏è SAATLƒ∞K KAZAN√á</span>
            <span class="stat-value" id="pas-val">0/s</span>
        </div>
    </div>

    <div id="main-display">
        <div id="rank-text">GELƒ∞≈ûTƒ∞Rƒ∞Cƒ∞ AI</div>
        <div id="score-main"><span id="score-val">0</span><span>MB</span></div>

        <div id="brain-container">
            <div id="brain-glow"></div>
            <div id="brain-btn" onclick="handleTap(event)">üß†</div>
        </div>

        <div id="combo-info" onclick="claimCombo()">‚≠ê G√úNL√úK KOMBO HAZIR!</div>
    </div>

    <div id="cards-section">
        </div>

    <div id="navbar">
        <div class="nav-item">MARKET</div>
        <div class="nav-item active">ANA EKRAN</div>
        <div class="nav-item">G√ñREVLER</div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let score = parseFloat(localStorage.getItem('ai_final_score')) || 0;
        let tapPower = parseInt(localStorage.getItem('ai_final_tap')) || 1;
        let passive = parseInt(localStorage.getItem('ai_final_pas')) || 0;

        const cards = [
            { id: 1, name: "GPU V1", emoji: "‚ö°", price: 500, type: "tap", bonus: 2, lvl: 1 },
            { id: 2, name: "SUNUCU ODASI", emoji: "üñ•", price: 2000, type: "pas", bonus: 10, lvl: 1 },
            { id: 3, name: "KUANTUM √áƒ∞P", emoji: "üí†", price: 15000, type: "tap", bonus: 15, lvl: 2 },
            { id: 4, name: "VERƒ∞ MERKEZƒ∞", emoji: "üè¢", price: 50000, type: "pas", bonus: 100, lvl: 2 }
        ];

        function getLvl() { return score < 50000 ? 1 : 2; }

        function updateUI() {
            document.getElementById('score-val').innerText = Math.floor(score).toLocaleString();
            document.getElementById('tap-val').innerText = "+" + tapPower;
            document.getElementById('pas-val').innerText = passive.toLocaleString() + "/s";
            document.getElementById('rank-text').innerText = getLvl() === 1 ? "STAJYER AI" : "GELƒ∞≈ûTƒ∞Rƒ∞Cƒ∞ AI";
            
            const comboBtn = document.getElementById('combo-info');
            const lastClaim = localStorage.getItem('combo_date');
            if(lastClaim === new Date().toDateString()) {
                comboBtn.innerText = "‚≠ê KOMBO ALINDI";
                comboBtn.style.color = "#4b5563";
            }

            renderCards();
        }

        function renderCards() {
            const container = document.getElementById('cards-section');
            const currentLvl = getLvl();
            container.innerHTML = '';
            
            cards.forEach(c => {
                const isLocked = currentLvl < c.lvl;
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card';
                cardDiv.innerHTML = `
                    <span class="card-emoji">${c.emoji}</span>
                    <span class="card-name">${c.name}</span>
                    <span class="card-price">${c.price.toLocaleString()} MB</span>
                    <button class="buy-btn" ${isLocked || score < c.price ? 'disabled' : ''} onclick="buy(${c.id})">AL</button>
                    ${isLocked ? `<div class="locked-overlay">üîí Lvl ${c.lvl}</div>` : ''}
                `;
                container.appendChild(cardDiv);
            });
        }

        function handleTap(e) {
            score += tapPower;
            tg.HapticFeedback.impactOccurred('medium');
            updateUI(); save();
        }

        function buy(id) {
            const c = cards.find(x => x.id === id);
            if(score >= c.price) {
                score -= c.price;
                if(c.type === "tap") tapPower += c.bonus;
                else passive += c.bonus;
                updateUI(); save();
            }
        }

        function claimCombo() {
            const today = new Date().toDateString();
            if(localStorage.getItem('combo_date') !== today) {
                score += 50000;
                localStorage.setItem('combo_date', today);
                tg.showAlert("G√ºnl√ºk Kombo: 50.000 MB Kazandƒ±n!");
                updateUI(); save();
            }
        }

        function save() {
            localStorage.setItem('ai_final_score', score);
            localStorage.setItem('ai_final_tap', tapPower);
            localStorage.setItem('ai_final_pas', passive);
        }

        setInterval(() => { if(passive > 0) { score += (passive / 10); updateUI(); } }, 100);
        updateUI();
    </script>
</body>
</html>
