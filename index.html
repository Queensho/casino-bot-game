<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AI Tycoon Premium</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@500;700&display=swap');
        
        body { 
            background: #05070a; color: white; font-family: 'Rajdhani', sans-serif; 
            margin: 0; display: flex; flex-direction: column; align-items: center; 
            height: 100vh; overflow: hidden; user-select: none;
        }

        /* √úst Bilgi Kutularƒ± - G√∂rsele Birebir */
        #top-stats { 
            display: flex; justify-content: space-between; width: 92%; margin-top: 15px; gap: 12px;
        }
        .stat-card {
            flex: 1; background: rgba(15, 23, 42, 0.6); border: 1px solid #00f2ff;
            border-radius: 12px; padding: 8px; text-align: center;
            backdrop-filter: blur(10px); box-shadow: 0 0 15px rgba(0, 242, 255, 0.1);
        }
        .stat-card.purple { border-color: #7000ff; box-shadow: 0 0 15px rgba(112, 0, 255, 0.1); }
        .stat-label { font-size: 9px; color: #8b949e; display: block; margin-bottom: 2px; text-transform: uppercase; letter-spacing: 1px; }
        .stat-value { font-family: 'Orbitron'; font-size: 13px; color: #fff; text-shadow: 0 0 5px var(--glow); }

        /* Ana G√∂vde */
        #main-display { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; margin-top: -20px; }
        
        #rank-name { font-family: 'Orbitron'; font-size: 14px; color: #fff; letter-spacing: 2px; margin-bottom: 8px; }
        #progress-bg { width: 65%; height: 5px; background: #1a2236; border-radius: 10px; overflow: hidden; margin-bottom: 15px; }
        #progress-bar { width: 0%; height: 100%; background: #00f2ff; box-shadow: 0 0 15px #00f2ff; transition: width 0.4s; }

        #score-main { font-family: 'Orbitron'; font-size: 42px; font-weight: bold; color: #fff; margin-bottom: 25px; }
        #score-main span { color: #00f2ff; font-size: 20px; margin-left: 5px; }

        /* Parlayan Beyin */
        #ai-brain-wrapper { position: relative; width: 200px; height: 200px; display: flex; align-items: center; justify-content: center; }
        #ai-brain-ring { 
            position: absolute; width: 100%; height: 100%; border-radius: 50%; 
            border: 2px solid #7000ff; box-shadow: 0 0 30px rgba(112, 0, 255, 0.5);
            animation: pulse 2s infinite;
        }
        #ai-brain-btn { 
            width: 170px; height: 170px; border-radius: 50%; font-size: 90px;
            background: radial-gradient(circle, #1a103d, #05070a);
            display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 2;
            transition: transform 0.05s;
        }
        #ai-brain-btn:active { transform: scale(0.92); }

        /* Kartlar (Yatay Kaydƒ±rma) */
        #cards-footer {
            width: 100%; background: rgba(10, 15, 25, 0.9); padding: 15px 0;
            border-top: 1px solid #1a2236; display: flex; overflow-x: auto; gap: 12px; padding-left: 15px;
        }
        .card {
            min-width: 125px; background: #161b22; border: 1px solid #30363d;
            border-radius: 12px; padding: 10px; text-align: center; position: relative;
        }
        .card img { width: 45px; margin-bottom: 8px; filter: drop-shadow(0 0 5px #00f2ff); }
        .card-name { font-size: 11px; font-weight: bold; display: block; margin-bottom: 4px; }
        .card-price { font-size: 10px; color: #8b949e; display: block; margin-bottom: 8px; }
        .buy-btn { 
            background: #00f2ff; color: #000; border: none; width: 100%; 
            padding: 6px; border-radius: 6px; font-size: 10px; font-weight: bold; cursor: pointer;
        }
        .buy-btn:disabled { background: #1e293b; color: #4b5563; cursor: not-allowed; }
        
        /* Kilitli Kart Efekti */
        .locked-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); border-radius: 12px; display: flex;
            flex-direction: column; align-items: center; justify-content: center;
            font-size: 10px; color: #ff3e3e; font-weight: bold; backdrop-filter: blur(2px);
        }

        /* Navigasyon */
        #nav { width: 100%; background: #05070a; display: flex; padding: 12px 0; border-top: 1px solid #1a2236; }
        .nav-item { flex: 1; text-align: center; color: #4b5563; font-size: 10px; font-weight: bold; }
        .nav-item.active { color: #00f2ff; }

        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.15); opacity: 0; } }
    </style>
</head>
<body>

    <div id="top-stats">
        <div class="stat-card">
            <span class="stat-label">‚ö° TIK G√úC√ú</span>
            <span class="stat-value" id="tap-val">+1</span>
        </div>
        <div class="stat-card purple">
            <span class="stat-label">‚öôÔ∏è SAATLƒ∞K KAZAN√á</span>
            <span class="stat-value" id="pps-val">0/s</span>
        </div>
    </div>

    <div id="main-display">
        <div id="rank-name">GELƒ∞≈ûTƒ∞Rƒ∞Cƒ∞ AI</div>
        <div id="progress-bg"><div id="progress-bar"></div></div>
        
        <div id="score-main"><span id="score-val">0</span><span>MB</span></div>

        <div id="ai-brain-wrapper">
            <div id="ai-brain-ring"></div>
            <div id="ai-brain-btn" onclick="tap(event)">üß†</div>
        </div>
    </div>

    <div id="cards-footer">
        </div>

    <div id="nav">
        <div class="nav-item">KARTLAR</div>
        <div class="nav-item">MARKET</div>
        <div class="nav-item active">ANA</div>
        <div class="nav-item">G√ñREVLER</div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let score = parseFloat(localStorage.getItem('ai_p_score')) || 0;
        let tapPower = parseInt(localStorage.getItem('ai_p_tap')) || 1;
        let passive = parseInt(localStorage.getItem('ai_p_pas')) || 0;

        const rankData = [
            { name: "STAJYER AI", min: 0, level: 1 },
            { name: "GELƒ∞≈ûTƒ∞Rƒ∞Cƒ∞ AI", min: 50000, level: 2 },
            { name: "Sƒ∞STEM Mƒ∞MARI", min: 250000, level: 3 },
            { name: "CEO SUPREME", min: 1000000, level: 4 }
        ];

        const cardLibrary = [
            { id: 1, name: "GPU V1", price: 1000, type: "tap", bonus: 2, minLvl: 1, img: "‚ö°" },
            { id: 2, name: "SUNUCU ODASI", price: 5000, type: "pas", bonus: 20, minLvl: 1, img: "üñ•" },
            { id: 3, name: "KUANTUM √áƒ∞P", price: 25000, type: "tap", bonus: 10, minLvl: 2, img: "üí†" },
            { id: 4, name: "VERƒ∞ MERKEZƒ∞", price: 100000, type: "pas", bonus: 150, minLvl: 3, img: "üè¢" }
        ];

        function getLevel() {
            let current = rankData[0];
            rankData.forEach(r => { if(score >= r.min) current = r; });
            return current;
        }

        function updateUI() {
            const currentRank = getLevel();
            document.getElementById('score-val').innerText = Math.floor(score).toLocaleString();
            document.getElementById('tap-val').innerText = "+" + tapPower;
            document.getElementById('pps-val').innerText = passive.toLocaleString() + "/s";
            document.getElementById('rank-name').innerText = currentRank.name;
            
            // Progress Bar
            let nextRank = rankData.find(r => r.min > score) || {min: score * 1.5};
            let prog = ((score - currentRank.min) / (nextRank.min - currentRank.min)) * 100;
            document.getElementById('progress-bar').style.width = Math.min(prog, 100) + "%";

            renderCards(currentRank.level);
        }

        function renderCards(userLvl) {
            const container = document.getElementById('cards-footer');
            container.innerHTML = '';
            
            cardLibrary.forEach(card => {
                const isLocked = userLvl < card.minLvl;
                const cardEl = document.createElement('div');
                cardEl.className = 'card';
                cardEl.innerHTML = `
                    <div style="font-size:30px; margin-bottom:5px;">${card.img}</div>
                    <span class="card-name">${card.name}</span>
                    <span class="card-price">${card.price.toLocaleString()} MB</span>
                    <button class="buy-btn" ${isLocked || score < card.price ? 'disabled' : ''} 
                            onclick="buy(${card.id})">SATIN AL</button>
                    ${isLocked ? `<div class="locked-overlay">üîí Lvl ${card.minLvl} Gerekli</div>` : ''}
                `;
                container.appendChild(cardEl);
            });
        }

        function tap(e) {
            score += tapPower;
            tg.HapticFeedback.impactOccurred('light');
            updateUI();
            save();
        }

        function buy(id) {
            const card = cardLibrary.find(c => c.id === id);
            if(score >= card.price) {
                score -= card.price;
                if(card.type === "tap") tapPower += card.bonus;
                else passive += card.bonus;
                tg.HapticFeedback.notificationOccurred('success');
                updateUI(); save();
            }
        }

        function save() {
            localStorage.setItem('ai_p_score', score);
            localStorage.setItem('ai_p_tap', tapPower);
            localStorage.setItem('ai_p_pas', passive);
        }

        setInterval(() => { if(passive > 0) { score += (passive / 10); updateUI(); } }, 100);
        updateUI();
    </script>
</body>
</html>
