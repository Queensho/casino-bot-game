<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Casino Empire</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #0b0e11; color: white; font-family: sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; height: 100vh; overflow: hidden; }
        #score-display { font-size: 32px; color: gold; margin-top: 20px; font-weight: bold; }
        #main-tap { width: 200px; height: 200px; border-radius: 50%; border: 8px solid #00c4cc; margin-top: 40px; display: flex; align-items: center; justify-content: center; font-size: 80px; cursor: pointer; background: #222; box-shadow: 0 0 20px #00c4cc; transition: transform 0.05s; }
        #main-tap:active { transform: scale(0.95); }
        #upgrade-menu { display: none; position: fixed; bottom: 0; width: 100%; background: #1c2128; padding: 20px; border-radius: 20px 20px 0 0; }
        .btn { background: #ffd700; color: black; border: none; padding: 10px; border-radius: 8px; font-weight: bold; width: 100%; margin-top: 10px; cursor: pointer; }
    </style>
</head>
<body>
    <div id="score-display">ðŸ’° <span id="score">0</span></div>
    <div style="font-size: 12px; color: #8b949e;">Saatlik: <span id="passive">0</span></div>

    <div id="main-tap" onclick="tap()">ðŸŽ°</div>

    <div id="upgrade-menu" id="up-panel">
        <h3 style="margin:0; color:#00c4cc">Market</h3>
        <p>TÄ±klama GÃ¼cÃ¼ (Fiyat: 100)</p>
        <button class="btn" onclick="buyTap()">GeliÅŸtir</button>
        <button onclick="closeMenu()" style="background:red; color:white; border:none; margin-top:10px; width:100%; padding:5px; border-radius:5px;">Kapat</button>
    </div>

    <div style="position:fixed; bottom:0; width:100%; display:flex; background:#161b22; padding:15px 0;">
        <div style="flex:1; text-align:center; cursor:pointer;" onclick="openMenu()">ðŸ›  GeliÅŸtir</div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let score = parseFloat(localStorage.getItem('score')) || 0;
        let tapPower = parseInt(localStorage.getItem('tapPower')) || 1;
        let passive = parseInt(localStorage.getItem('passive')) || 0;

        function update() {
            document.getElementById('score').innerText = Math.floor(score).toLocaleString();
            document.getElementById('passive').innerText = passive;
        }

        function tap() {
            score += tapPower;
            update();
            localStorage.setItem('score', score);
            tg.HapticFeedback.impactOccurred('medium');
        }

        function openMenu() { document.getElementById('upgrade-menu').style.display = 'block'; }
        function closeMenu() { document.getElementById('upgrade-menu').style.display = 'none'; }

        function buyTap() {
            if (score >= 100) {
                score -= 100;
                tapPower += 1;
                localStorage.setItem('tapPower', tapPower);
                update();
                tg.showAlert("TÄ±klama gÃ¼cÃ¼ arttÄ±!");
            } else { tg.showAlert("Yetersiz bakiye!"); }
        }

        setInterval(() => {
            if (passive > 0) { score += (passive / 3600); update(); }
        }, 1000);

        update();
    </script>
</body>
</html>
